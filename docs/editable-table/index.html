<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <meta property="og:site_name" content="ProComponents" />
    <meta
      data-rh="keywords"
      property="og:image"
      content="https://procomponents.ant.design/icon.png"
    />
    <meta property="og:description" content="🏆 Use Ant Design like a Pro!" />
    <meta
      name="keywords"
      content="中后台,admin,Ant Design,ant design,Table,react,alibaba"
    />
    <meta
      name="description"
      content="🏆 Use Ant Design like a Pro! 包含 table form 等多个组件。"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" "
    content="black-translucent">
    <link rel="stylesheet" href="/umi.fa36f095.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.3.7
    </script>
    <title>🥳 可能是最好的可编辑表格发布啦</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/docs/editable-table" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg&#x27;)" href="/">ProComponents</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span><a aria-current="page" class="active" href="/docs">文档</a></span><span><a href="/components">组件</a></span><span><a href="/changelog">更新日志</a></span><span><a target="_blank" rel="noopener noreferrer" href="https://github.com/ant-design/pro-components">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span><div class="__dumi-default-locale-select" data-locale-count="2"><a href="/en-US/docs/editable-table">English</a></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg&#x27;)" href="/"></a><h1>ProComponents</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/docs">文档</a></li><li><a href="/components">组件</a></li><li><a href="/changelog">更新日志</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/ant-design/pro-components">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><div class="__dumi-default-locale-select" data-locale-count="2"><a href="/en-US/docs/editable-table">English</a></div></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/docs/"></a><ul><li><a href="/docs/intro"><span>简介</span></a></li><li><a href="/docs/getting-started"><span>快速开始</span></a></li><li><a href="/docs/faq"><span>FAQ</span></a></li><li><a aria-current="page" class="active" href="/docs/editable-table"><span>🥳 可能是最好的可编辑表格发布啦</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="🧚🏻‍♀️ 默认好看的样式" data-depth="2"><a href="/docs/editable-table#🧚♀️-默认好看的样式"><span>🧚🏻‍♀️ 默认好看的样式</span></a></li><li title="👩🏻‍🦽 默认好用的 API" data-depth="2"><a href="/docs/editable-table#🦽-默认好用的-api"><span>👩🏻‍🦽 默认好用的 API</span></a></li><li title="🎣 如何使用？" data-depth="2"><a href="/docs/editable-table#-如何使用？"><span>🎣 如何使用？</span></a></li><li title="editable 编辑配置" data-depth="3"><a href="/docs/editable-table#editable-编辑配置"><span>editable 编辑配置</span></a></li><li title="action 默认行为" data-depth="3"><a href="/docs/editable-table#action-默认行为"><span>action 默认行为</span></a></li><li title="recordCreatorProps 新建按钮配置" data-depth="3"><a href="/docs/editable-table#recordcreatorprops-新建按钮配置"><span>recordCreatorProps 新建按钮配置</span></a></li><li title="renderFormItem 自定义编辑组件" data-depth="3"><a href="/docs/editable-table#renderformitem-自定义编辑组件"><span>renderFormItem 自定义编辑组件</span></a></li><li title="actionRender 自定义操作栏" data-depth="3"><a href="/docs/editable-table#actionrender-自定义操作栏"><span>actionRender 自定义操作栏</span></a></li><li title="🔐 何时应该使用" data-depth="2"><a href="/docs/editable-table#-何时应该使用"><span>🔐 何时应该使用</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="🥳-可能是最好的可编辑表格发布啦"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#🥳-可能是最好的可编辑表格发布啦"><span class="icon,icon-link"></span></a>🥳 可能是最好的可编辑表格发布啦</h1><p>可编辑表格是 ProTable 中呼声比较高的功能，在项目中虽然使用频率不高，但是实现起来难度确不小。所以 ProTable 在完成了架构升级后，就开始着手可编辑表格的开发，现在它终于来了。</p><h2 id="🧚♀️-默认好看的样式"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#🧚♀️-默认好看的样式"><span class="icon,icon-link"></span></a>🧚🏻‍♀️ 默认好看的样式</h2><p>作为了 Ant Design 的衍生作品，我们对 EditableTable  的样式进行了预设，我们很容易就能做出这么好看的可编辑表格。同时我们提供了顶部添加和底部添加两种模式，用于适应不同的场景。我们可以做到默认好看，同时默认好用。</p><p><img src="https://gw.alipayobjects.com/zos/antfincdn/VVWpUPXgsp/image%252520%281%29.png" alt="image.png"/></p><p>为了改善在狭窄空间内的错误提示，我们重写错误信息的展示方式，使用 Tooltip 类似的方式来展示错误。当然为了防止抖动，我们也重写了 Form 的样式使其更加的适合狭窄的输入区域，这样在使用 EditableTable  时并不会产生明显的跳动感，感觉非常顺滑。</p><p><img src="https://gw.alipayobjects.com/zos/antfincdn/l4SiOUPtAm/image.png" alt="image.png"/></p><h2 id="🦽-默认好用的-api"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#🦽-默认好用的-api"><span class="icon,icon-link"></span></a>👩🏻‍🦽 默认好用的 API</h2><p>EditableTable  定义了一套和 Ant Design 相同的 API , 如果你是熟练的 Ant Design 使用者在使用时会感觉到非常的熟悉。为了方便大家使用 <code>EditableTable</code> 修改了 <code>value</code> 和 <code>onChange</code> ，只要放到 Form 中就会像 <code>Input</code> 一样自动绑定数据。</p><p>除了 value 和 onChange 我们还提供了 editable 来自定义编辑表格的行为，包括是否支持多行编辑，当前正在编辑行的 key 等，基本可以满足所有的开发需求。</p><table><thead><tr><th>属性</th><th>描述</th><th>类型</th></tr></thead><tbody><tr><td>type</td><td>可编辑表格的类型，单行编辑或者多行编辑</td><td><code>single</code> | <code>multiple</code></td></tr><tr><td>editableKeys</td><td>正在编辑的行，受控属性。 默认 <code>key</code> 会使用 <code>rowKey</code> 的配置，如果没有配置会使用 <code>index</code></td><td><code>Key[]</code></td></tr><tr><td>onChange</td><td>行的数据发生改变时触发</td><td><code>(editableKeys:Key[], editableRows: T[]) =&gt; void</code></td></tr><tr><td>onSave</td><td>保存一行的时候触发，只更新</td><td><code>(key: Key, row: T,newLine?: newLineConfig) =&gt; Promise&lt;boolean&gt;</code></td></tr><tr><td>onDelete</td><td>删除一行的时候触发</td><td><code>(key: Key, row: T) =&gt; Promise&lt;boolean&gt;</code></td></tr><tr><td>onCancel</td><td>取消行编辑时触发</td><td><code>(key: Key, row: T,newLine?: newLineConfig) =&gt; Promise&lt;boolean&gt;</code></td></tr><tr><td>actionRender</td><td>自定义编辑模式的操作栏</td><td><code>(row: T, config: ActionRenderConfig&lt;T&gt;) =&gt; React.ReactNode[]</code></td></tr></tbody></table><h2 id="-如何使用？"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#-如何使用？"><span class="icon,icon-link"></span></a>🎣 如何使用？</h2><h3 id="editable-编辑配置"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#editable-编辑配置"><span class="icon,icon-link"></span></a>editable 编辑配置</h3><p>市面上的可编辑表格是非常多的，但是很多使用起来非常麻烦，Table 的表单区域虽然小但是输入控件却不简单，常见的文本，下拉框，数组，日期甚至有时候还会有麻烦的日期区间等，那么 EditableTable  是如何解决这个问题的？</p><p>EditableTable  是基于 ProTable 实现的，在 ProTable 中我们是有查询表单这个功能的，通过配置不同的 <code>valueType</code> 就可以生成不同的查询表单，可编辑表格也是使用了同样的 API ,下图是 ProTable 支持的所有日期类的 <code>valueType</code>。</p><p><img src="https://gw.alipayobjects.com/zos/antfincdn/weBjSsue5J/image%252520%282%29.png" alt="image.png"/></p><p>在这样的能力加持下，EditableTable  的使用变得非常简单，我们可以像 rowSelection 那样使用 editable ，下面是一个简单的例子。</p><div class="__dumi-default-code-block"><pre class="prism-code language-typescript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> columns</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">ProColumns</span><span class="token operator">&lt;</span><span class="token maybe-class-name">DataSourceType</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;活动名称&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    dataIndex</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;title&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    formItemProps</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      rules</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          required</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          message</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;此项为必填项&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;状态&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    key</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;state&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    dataIndex</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;state&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    valueType</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;select&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    valueEnum</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      all</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> text</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;全部&#x27;</span><span class="token punctuation">,</span><span class="token plain"> status</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Default&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      open</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        text</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;未解决&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        status</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Error&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      closed</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        text</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;已解决&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        status</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Success&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;描述&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    dataIndex</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;decs&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    valueType</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;text&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;操作&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    valueType</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;option&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function-variable function">render</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token parameter punctuation">,</span><span class="token parameter"> record</span><span class="token parameter punctuation">,</span><span class="token parameter"> _</span><span class="token parameter punctuation">,</span><span class="token parameter"> action</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">a</span></div><div class="token-line"><span class="token plain">        key</span><span class="token operator">=</span><span class="token string">&quot;editable&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        onClick</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          action</span><span class="token punctuation">.</span><span class="token property-access">startEditable</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token plain">record</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        编辑</span></div><div class="token-line"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">a</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">editableKeys</span><span class="token punctuation">,</span><span class="token plain"> setEditableRowKeys</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> useState</span><span class="token operator">&lt;</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">Key</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">dataSource</span><span class="token punctuation">,</span><span class="token plain"> setDataSource</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> useState</span><span class="token operator">&lt;</span><span class="token maybe-class-name">DataSourceType</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token maybe-class-name">EditableProTable</span><span class="token operator">&lt;</span><span class="token maybe-class-name">DataSourceType</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  rowKey</span><span class="token operator">=</span><span class="token string">&quot;id&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  headerTitle</span><span class="token operator">=</span><span class="token string">&quot;可编辑表格&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  columns</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">columns</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  value</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">dataSource</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  onChange</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">setDataSource</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  recordCreatorProps</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    position</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;end&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    record</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> id</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  editable</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    editableKeys</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    onChange</span><span class="token punctuation">:</span><span class="token plain"> setEditableRowKeys</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>我们可以控制 editableKeys 来修改当前编辑的行，value 来控制当前的数据。以上的代码会生成下面的样式。</p><p><img src="https://gw.alipayobjects.com/zos/antfincdn/qCVZrBfmFs/image%252520%283%29.png" alt="image.png"/></p><h3 id="action-默认行为"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#action-默认行为"><span class="icon,icon-link"></span></a>action 默认行为</h3><p>可编辑表格的重点是 action ，这个变量有点像 Form 的 formInstance 实例，你可以调用它的方法来操作可编辑表格的一些行为 ,以下是支持的 API 列举：</p><ul><li><code>action.startEditable(rowKey)</code> 开始编辑一行</li><li><code>action.cancelEditable(rowKey)</code> 结束编辑一行，相当于取消</li><li><code>action.addEditRecord(row)</code>   新增一行，row 相当于默认值，一定要包含 rowKey</li></ul><h3 id="recordcreatorprops-新建按钮配置"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#recordcreatorprops-新建按钮配置"><span class="icon,icon-link"></span></a>recordCreatorProps 新建按钮配置</h3><p>为了使用，我们预设了一个新建的功能，大多数情况下已经可以满足大部分新建的需求，但是很多时候需求总是千奇百怪。我们也准备了 <code>recordCreatorProps</code> 来控制生成按钮。与 Pro 系列组件的 API 相同，<code>recordCreatorProps=<!-- -->{<!-- -->false<!-- -->}</code>就可以关掉按钮，同时使用 <code>actionRef.current?.addEditRecord(row)</code>  来控制新建行。</p><p><code>recordCreatorProps</code> 也支持自定义一些样式，<code>position=&#x27;top&#x27;|&#x27;end&#x27;</code> 可以配置增加在表格头还是表格尾部。<code>record</code> 可以配置新增行的默认数据。以下是一个列举</p><div class="__dumi-default-code-block"><pre class="prism-code language-typescript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">recordCreatorProps </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 顶部添加还是末尾添加</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  position</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;end&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 不写 key ，会使用 index 当行 id</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  record</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// https://ant.design/components/button-cn/#API</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token spread operator">...</span><span class="token plain">antButtonProps</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="renderformitem-自定义编辑组件"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#renderformitem-自定义编辑组件"><span class="icon,icon-link"></span></a>renderFormItem 自定义编辑组件</h3><p>虽然我们很希望默认的 valueType 可以满足所有的需求，但是现实往往不尽如人意。所以我们也提供了 <code>renderFormItem</code> 来自定义编辑输入组件。</p><p><code>renderFormItem</code> 可以理解为在 Form.Item 下面加入一个元素， 伪代码实现是下面这样的：</p><div class="__dumi-default-code-block"><pre class="prism-code language-typescript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> dom </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">renderFormItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">Item</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token plain">dom</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">Item</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>所以与 Form.Item 相同，我们认为 <code>renderFormItem</code> 返回的组件都是拥有的 <code>value</code> 和 <code>onChange</code> 的，我们接下来将看到用 <code>renderFormItem</code> 将一个简单的 TagList 组件放入可编辑表格中。</p><blockquote><p>没有 <code>value</code> 将会无法注入值，没有 <code>onChange</code> 会无法修改行数据</p></blockquote><p>首先我们定义一个 TagList 组件。</p><div class="__dumi-default-code-block"><pre class="prism-code language-typescript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token maybe-class-name">TagList</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  value</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    key</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    label</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  onChange</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token parameter">value</span><span class="token parameter punctuation">:</span><span class="token parameter"> </span><span class="token parameter punctuation">{</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">      key</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">;</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">      label</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">;</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">    </span><span class="token parameter punctuation">}</span><span class="token parameter punctuation">[</span><span class="token parameter punctuation">]</span><span class="token parameter punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter punctuation">{</span><span class="token parameter"> value</span><span class="token parameter punctuation">,</span><span class="token parameter"> onChange </span><span class="token parameter punctuation">}</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> ref </span><span class="token operator">=</span><span class="token plain"> useRef</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Input</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">newTags</span><span class="token punctuation">,</span><span class="token plain"> setNewTags</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> useState</span><span class="token operator">&lt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      key</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      label</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">inputValue</span><span class="token punctuation">,</span><span class="token plain"> setInputValue</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> useState</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">handleInputChange</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token parameter punctuation">:</span><span class="token parameter"> React</span><span class="token parameter punctuation">.</span><span class="token parameter">ChangeEvent</span><span class="token parameter operator">&lt;</span><span class="token parameter">HTMLInputElement</span><span class="token parameter operator">&gt;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">setInputValue</span><span class="token punctuation">(</span><span class="token plain">e</span><span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">handleInputConfirm</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> tempsTags </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token punctuation">(</span><span class="token plain">value </span><span class="token operator">||</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">inputValue </span><span class="token operator">&amp;&amp;</span><span class="token plain"> tempsTags</span><span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> tag</span><span class="token punctuation">.</span><span class="token property-access">label</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> inputValue</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      tempsTags </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">tempsTags</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> key</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">new-</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">tempsTags</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation">length</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">,</span><span class="token plain"> label</span><span class="token punctuation">:</span><span class="token plain"> inputValue </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    onChange</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token plain">tempsTags</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">setNewTags</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">setInputValue</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Space</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token plain">value </span><span class="token operator">||</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token plain">newTags</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Tag</span><span class="token plain"> key</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">item</span><span class="token punctuation">.</span><span class="token property-access">key</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token plain">item</span><span class="token punctuation">.</span><span class="token property-access">label</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Tag</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Input</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        ref</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">ref</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">type</span><span class="token operator">=</span><span class="token string">&quot;text&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        size</span><span class="token operator">=</span><span class="token string">&quot;small&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        style</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token plain"> width</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">78</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        value</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">inputValue</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        onChange</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">handleInputChange</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        onBlur</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">handleInputConfirm</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        onPressEnter</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">handleInputConfirm</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Space</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在列中我们可以这样配置它。</p><div class="__dumi-default-code-block"><pre class="prism-code language-typescript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;标签&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    dataIndex</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;labels&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    width</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;40%&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function-variable function">renderFormItem</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token maybe-class-name">TagList</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function-variable function">render</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">_</span><span class="token parameter punctuation">,</span><span class="token parameter"> row</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> row</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token property-access">labels</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Tag</span><span class="token plain"> key</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token plain">item</span><span class="token punctuation">.</span><span class="token property-access">key</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token plain">item</span><span class="token punctuation">.</span><span class="token property-access">label</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Tag</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>转化成的编辑表格效果如下 ：</p><p><img src="https://gw.alipayobjects.com/zos/antfincdn/2ClcRi2hv5/image%252520%284%29.png" alt="image.png"/></p><p>value 和 onChange 会自动注入，我们不需要显式的注入。数据绑定也是由编辑表格自己注入的，我们在 <code>onSave</code> 中可以拿到处理完成的数据。虽然我们可以行内的写出复杂的逻辑甚至网络请求，但是我们仍然推荐拆分组件，这样不仅性能更好，逻辑也可以拆分到另外的地方。</p><blockquote><p><code>renderFormItem</code> 同时也用来生成查询表单，如果我们需要区分这两种情况，可以使用 <code>renderFormItem: (_, <!-- -->{<!-- --> isEditable <!-- -->}<!-- -->) =&gt; (isEditable ? &lt;TagList /&gt; : &lt;Input /&gt; )</code> 这样的方式来进行分别渲染。</p></blockquote><h3 id="actionrender-自定义操作栏"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#actionrender-自定义操作栏"><span class="icon,icon-link"></span></a>actionRender 自定义操作栏</h3><p>可编辑表格默认提供了三大金刚， 保存，删除 和 取消，如果我们要实现复制一行，或者需求只需要的 保存和取消，不需要删除按钮就需要自定义了。可编辑表格提供了 API 来进行自定义，以下会直接展示代码:</p><h4 id="复制一行到底部"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#复制一行到底部"><span class="icon,icon-link"></span></a>复制一行到底部</h4><div class="__dumi-default-code-block"><pre class="prism-code language-typescript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function-variable function">render</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token parameter punctuation">,</span><span class="token parameter"> record</span><span class="token parameter punctuation">,</span><span class="token parameter"> _</span><span class="token parameter punctuation">,</span><span class="token parameter"> action</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token plain">a</span></div><div class="token-line"><span class="token plain">    key</span><span class="token operator">=</span><span class="token string">&quot;editable&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    onClick</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      action</span><span class="token punctuation">.</span><span class="token property-access">startEditable</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token plain">record</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    编辑</span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">a</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token maybe-class-name">EditableProTable</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">RecordCreator</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    record</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token spread operator">...</span><span class="token plain">record</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      id</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token plain">a</span><span class="token operator">&gt;</span><span class="token plain">复制此行到末尾</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">a</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">EditableProTable</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">RecordCreator</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h4 id="自定义操作栏"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#自定义操作栏"><span class="icon,icon-link"></span></a>自定义操作栏</h4><div class="__dumi-default-code-block"><pre class="prism-code language-typescript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> editable </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function">actionRender</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">row</span><span class="token parameter punctuation">,</span><span class="token parameter"> config</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token plain">a</span></div><div class="token-line"><span class="token plain">      key</span><span class="token operator">=</span><span class="token string">&quot;save&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      onClick</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">async</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">const</span><span class="token plain"> values </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">await</span><span class="token plain"> config</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token property-access">form</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token method function property-access">validateFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">as</span><span class="token plain"> </span><span class="token maybe-class-name">DataSourceType</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">const</span><span class="token plain"> hide </span><span class="token operator">=</span><span class="token plain"> message</span><span class="token punctuation">.</span><span class="token method function property-access">loading</span><span class="token punctuation">(</span><span class="token string">&#x27;保存中。。。&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">await</span><span class="token plain"> config</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token property-access">onSave</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token plain">config</span><span class="token punctuation">.</span><span class="token property-access">recordKey</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">row</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">values </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      保存</span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">a</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token plain">a</span></div><div class="token-line"><span class="token plain">      key</span><span class="token operator">=</span><span class="token string">&quot;save&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      onClick</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">async</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">await</span><span class="token plain"> config</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token property-access">onCancel</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token plain">config</span><span class="token punctuation">.</span><span class="token property-access">recordKey</span><span class="token punctuation">,</span><span class="token plain"> row</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      取消</span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">a</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="-何时应该使用"><a aria-hidden="true" tabindex="-1" href="/docs/editable-table#-何时应该使用"><span class="icon,icon-link"></span></a>🔐 何时应该使用</h2><p>ProComponents 的测试覆盖了达到了 97%，虽然离 antd 的 100% 还有很长的距离，但是已经可以保证不会因为变更而出现恼人的不兼容问题，同时在内部已经在数个项目中使用。如果你仍然保有疑虑，可以在我们的<a target="_blank" rel="noopener noreferrer" href="https://procomponents.ant.design/">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>体验。</p><p><img src="https://gw.alipayobjects.com/zos/antfincdn/GZ2nXopFf1/image%252520%285%29.png" alt="image.png"/> 如果使用中碰到了任何问题，都可以提 issue，或者直接进行 PR。也许你的想法和意见可以帮助到更多的人。</p></div><div class="__dumi-default-layout-footer-meta"><span data-updated-text="最后更新时间：">2/23/2021, 17:11:16</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-173569162-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/umi.404831b1.js"></script>
  </body>
</html>
